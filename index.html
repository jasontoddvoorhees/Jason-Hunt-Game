<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jason's Hunt - Camp Crystal Lake</title>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        background: linear-gradient(180deg, #0d1b0d 0%, #000000 100%);
        font-family: 'Courier New', monospace;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        color: #fff;
        padding: 10px;
    }

    .game-container {
        max-width: 600px;
        width: 100%;
        padding: 20px;
        text-align: center;
        overflow-x: hidden;
    }

    .title {
        font-size: 2.5em;
        color: #ff0000;
        text-shadow: 3px 3px 10px #000, 0 0 20px #ff0000;
        margin-bottom: 10px;
        letter-spacing: 3px;
    }

    .subtitle {
        font-size: 1.1em;
        color: #cc0000;
        margin-bottom: 20px;
    }

    .stats {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-bottom: 20px;
        font-size: 1.1em;
    }

    .stat {
        background: rgba(0, 0, 0, 0.7);
        padding: 10px 15px;
        border: 2px solid #660000;
        border-radius: 5px;
        box-shadow: 0 0 15px rgba(255, 0, 0, 0.4);
        min-width: 100px;
    }

    .stat-label {
        color: #999;
        font-size: 0.75em;
    }

    .stat-value {
        color: #ff0000;
        font-weight: bold;
        font-size: 1.2em;
    }

    canvas {
        width: 100%;
        max-width: 600px;
        height: auto;
        border: 4px solid #330000;
        background: #1a2d1a;
        box-shadow: 0 0 30px rgba(255, 0, 0, 0.5);
        display: block;
        margin: 0 auto;
    }

    .controls {
        margin-top: 20px;
        color: #999;
        font-size: 0.9em;
    }

    .game-over {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.95);
        padding: 40px;
        border: 4px solid #ff0000;
        border-radius: 10px;
        text-align: center;
        display: none;
        z-index: 1000;
        box-shadow: 0 0 50px rgba(255, 0, 0, 0.8);
        width: 90%;
        max-width: 400px;
        word-wrap: break-word;
    }

    .game-over.show {
        display: block;
    }

    .game-over h2 {
        font-size: 2.5em;
        color: #ff0000;
        text-shadow: 0 0 20px #ff0000;
        margin-bottom: 20px;
    }

    .game-over p {
        font-size: 1.2em;
        margin: 10px 0;
    }

    button {
        background: #660000;
        color: #fff;
        border: 2px solid #ff0000;
        padding: 12px 30px;
        font-size: 1em;
        font-family: 'Courier New', monospace;
        cursor: pointer;
        margin-top: 20px;
        border-radius: 5px;
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
        transition: all 0.3s;
    }

    button:hover {
        background: #ff0000;
        box-shadow: 0 0 30px rgba(255, 0, 0, 0.8);
        transform: scale(1.05);
    }

    @media (max-width: 400px) {
        .title {
            font-size: 1.8em;
        }
        .subtitle {
            font-size: 1em;
        }
        .stats {
            font-size: 1em;
            gap: 15px;
            flex-wrap: wrap;
        }
        .game-over p, .controls p {
            font-size: 1em;
        }
        button {
            padding: 10px 20px;
            font-size: 0.9em;
        }
    }
</style>
</head>
<body>
<div class="game-container">
    <div class="title">ðŸ”ª JASON'S HUNT ðŸ”ª</div>
    <div class="subtitle">Camp Crystal Lake</div>
    
    <div class="stats">
        <div class="stat">
            <div class="stat-label">BODY COUNT</div>
            <div class="stat-value" id="score">0</div>
        </div>
        <div class="stat">
            <div class="stat-label">HIGH SCORE</div>
            <div class="stat-value" id="highscore">0</div>
        </div>
    </div>

    <canvas id="gameCanvas" width="600" height="600"></canvas>

    <div class="controls">
        <p>Use Arrow Keys or WASD to move Jason</p>
        <p class="instructions">Catch counselors to increase your body count. Don't run into yourself or obstacles!</p>
        <button id="startBtn">START HUNT</button>
    </div>
</div>

<div class="game-over" id="gameOver">
    <h2>GAME OVER</h2>
    <p>Final Body Count: <span id="finalScore"></span></p>
    <p id="newRecord" style="color: #ff0000; display: none;">ðŸ”ª NEW RECORD! ðŸ”ª</p>
    <button id="restartBtn">HUNT AGAIN</button>
</div>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const gridSize = 20;
    const tileCount = canvas.width / gridSize;

    let snake = [{x: 10, y: 10}];
    let velocityX = 0;
    let velocityY = 0;
    let counselor = {x: 15, y: 15};
    let score = 0;
    let highScore = localStorage.getItem('jasonHighScore') || 0;
    let gameRunning = false;
    let gameSpeed = 100;
    let obstacles = [];

    document.getElementById('highscore').textContent = highScore;

    function generateObstacles() {
        obstacles = [];
        for(let i = 2; i < 5; i++) {
            for(let j = 2; j < 5; j++) {
                obstacles.push({x: i, y: j, type: 'cabin'});
            }
        }
        for(let i = 25; i < 28; i++) {
            for(let j = 2; j < 5; j++) {
                obstacles.push({x: i, y: j, type: 'cabin'});
            }
        }
        for(let i = 12; i < 18; i++) {
            for(let j = 12; j < 18; j++) {
                obstacles.push({x: i, y: j, type: 'lake'});
            }
        }
        const treePositions = [
            {x: 8, y: 8}, {x: 22, y: 22}, {x: 5, y: 25},
            {x: 25, y: 8}, {x: 8, y: 22}, {x: 20, y: 10}
        ];
        treePositions.forEach(pos => obstacles.push({...pos, type: 'tree'}));
    }

    function drawGame() {
        ctx.fillStyle = '#1a2d1a';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        ctx.strokeStyle = '#0d1b0d';
        for(let i = 0; i < tileCount; i++) {
            ctx.beginPath();
            ctx.moveTo(i * gridSize, 0);
            ctx.lineTo(i * gridSize, canvas.height);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(0, i * gridSize);
            ctx.lineTo(canvas.width, i * gridSize);
            ctx.stroke();
        }

        obstacles.forEach(obs => {
            if(obs.type === 'cabin') {
                ctx.fillStyle = '#4d2600';
                ctx.fillRect(obs.x * gridSize, obs.y * gridSize, gridSize, gridSize);
                ctx.strokeStyle = '#331a00';
                ctx.strokeRect(obs.x * gridSize, obs.y * gridSize, gridSize, gridSize);
            } else if(obs.type === 'lake') {
                ctx.fillStyle = '#0d3d5c';
                ctx.fillRect(obs.x * gridSize, obs.y * gridSize, gridSize, gridSize);
            } else if(obs.type === 'tree') {
                ctx.fillStyle = '#1a4d1a';
                ctx.fillRect(obs.x * gridSize, obs.y * gridSize, gridSize, gridSize);
                ctx.fillStyle = '#0d2d0d';
                ctx.fillRect(obs.x * gridSize + 5, obs.y * gridSize + 5, 10, 10);
            }
        });

        ctx.fillStyle = '#ffcc00';
        ctx.fillRect(counselor.x * gridSize + 2, counselor.y * gridSize + 2, gridSize - 4, gridSize - 4);
        ctx.fillStyle = '#ff6600';
        ctx.fillRect(counselor.x * gridSize + 6, counselor.y * gridSize + 6, gridSize - 12, gridSize - 12);

        snake.forEach((segment, index) => {
            if(index === 0) {
                ctx.fillStyle = '#ffffff';
                ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize, gridSize);
                ctx.fillStyle = '#000000';
                ctx.fillRect(segment.x * gridSize + 4, segment.y * gridSize + 6, 4, 4);
                ctx.fillRect(segment.x * gridSize + 12, segment.y * gridSize + 6, 4, 4);
                ctx.fillStyle = '#ff0000';
                ctx.fillRect(segment.x * gridSize + 2, segment.y * gridSize + 2, 2, 16);
            } else {
                ctx.fillStyle = index % 2 === 0 ? '#660000' : '#4d0000';
                ctx.fillRect(segment.x * gridSize + 1, segment.y * gridSize + 1, gridSize - 2, gridSize - 2);
            }
        });
    }

    function moveSnake() {
        const head = {x: snake[0].x + velocityX, y: snake[0].y + velocityY};

        if(head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
            endGame();
            return;
        }

        if(snake.some(segment => segment.x === head.x && segment.y === head.y)) {
            endGame();
            return;
        }

        if(obstacles.some(obs => obs.x === head.x && obs.y === head.y)) {
            endGame();
            return;
        }

        snake.unshift(head);

        if(head.x === counselor.x && head.y === counselor.y) {
            score++;
            document.getElementById('score').textContent = score;
            placeCounselor();

            if(score % 5 === 0) {
                gameSpeed = Math.max(50, gameSpeed - 10);
            }
        } else {
            snake.pop();
        }
    }

    function placeCounselor() {
        let validPosition = false;
        while(!validPosition) {
            counselor.x = Math.floor(Math.random() * tileCount);
            counselor.y = Math.floor(Math.random() * tileCount);

            validPosition = !snake.some(segment => segment.x === counselor.x && segment.y === counselor.y) &&
                !obstacles.some(obs => obs.x === counselor.x && obs.y === counselor.y);
        }
    }

    function endGame() {
        gameRunning = false;
        document.getElementById('finalScore').textContent = score;

        if(score > highScore) {
            highScore = score;
            localStorage.setItem('jasonHighScore', highScore);
            document.getElementById('highscore').textContent = highScore;
            document.getElementById('newRecord').style.display = 'block';
        } else {
            document.getElementById('newRecord').style.display = 'none';
        }

        document.getElementById('gameOver').classList.add('show');
    }

    function resetGame() {
        snake = [{x: 10, y: 10}];
        velocityX = 0;
        velocityY = 0;
        score = 0;
        gameSpeed = 100;
        document.getElementById('score').textContent = score;
        generateObstacles();
        placeCounselor();
        document.getElementById('gameOver').classList.remove('show');
    }

    function startGame() {
        if(gameRunning) return;
        resetGame();
        gameRunning = true;
        gameLoop();
    }

    function gameLoop() {
        if(!gameRunning) return;

        moveSnake();
        drawGame();

        setTimeout(() => {
            requestAnimationFrame(gameLoop);
        }, gameSpeed);
    }

    document.addEventListener('keydown', (e) => {
        if(!gameRunning) return;

        switch(e.key) {
            case 'ArrowUp':
            case 'w':
            case 'W':
                if(velocityY === 0) {
                    velocityX = 0;
                    velocityY = -1;
                }
                break;
            case 'ArrowDown':
            case 's':
            case 'S':
                if(velocityY === 0) {
                    velocityX = 0;
                    velocityY = 1;
                }
                break;
            case 'ArrowLeft':
            case 'a':
            case 'A':
                if(velocityX === 0) {
                    velocityX = -1;
                    velocityY = 0;
                }
                break;
            case 'ArrowRight':
            case 'd':
            case 'D':
                if(velocityX === 0) {
                    velocityX = 1;
                    velocityY = 0;
                }
                break;
        }
    });

    document.getElementById('startBtn').addEventListener('click', startGame);
    document.getElementById('restartBtn').addEventListener('click', startGame);

    generateObstacles();
    drawGame();
</script>
</body>
</html>
